<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Square | Master New Skills Online</title>
    
    <!-- Fonts: Inter & Manrope -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Manrope:wght@400;700&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. DARK THEME VARIABLES --- */
        :root {
            /* Neon Green Accent */
            --accent-green: #D4F614; 
            --accent-hover: #b8d610;
            
            --primary: #6366f1;   
            --bg-body: #050505;   /* Pitch Black */
            --bg-card: #121212;   /* Slightly Lighter Black */
            --text-main: #FFFFFF;
            --text-muted: #B0B0B0;
            
            --border: #222222;
            --radius: 12px;
            --sidebar-width: 250px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        
        body { 
            background-color: var(--bg-body); 
            color: var(--text-main); 
            overflow-x: hidden; 
            display: flex; flex-direction: column; min-height: 100vh; 
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; cursor: pointer; }
        img { width: 100%; display: block; object-fit: cover; }
        ul { list-style: none; }
        button { cursor: pointer; transition: 0.3s; }

        /* --- UTILITY --- */
        .page-section { display: none; animation: fadeIn 0.5s ease-in-out; }
        .page-section.active { display: block; }
        .hidden { display: none !important; }
        .highlight-text { color: var(--accent-green); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HEADER --- */
        header {
            background: rgba(5, 5, 5, 0.95); backdrop-filter: blur(12px);
            padding: 15px 5%; display: flex; align-items: center; justify-content: space-between;
            position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border);
            height: 75px;
        }
        .logo img { height: 40px; width: auto; object-fit: contain; }
        
        .search-bar {
            flex: 1; max-width: 400px; margin: 0 20px;
            background: var(--bg-card); border-radius: 50px;
            padding: 10px 20px; display: flex; align-items: center;
            border: 1px solid var(--border);
        }
        .search-bar input { border: none; background: transparent; outline: none; width: 100%; margin-left: 10px; color: white; }
        .search-bar i { color: var(--text-muted); }
        
        .nav-actions { display: flex; align-items: center; gap: 25px; }
        .nav-link { font-weight: 500; font-size: 14px; color: var(--text-muted); cursor: pointer; }
        .nav-link:hover, .nav-link.active-link { color: white; }
        
        .btn-main {
            background: var(--accent-green); color: black; padding: 10px 24px; border-radius: 50px; 
            font-weight: 700; font-size: 14px; border: none;
        }
        .btn-main:hover { background: var(--accent-hover); transform: scale(1.05); }

        /* --- MOBILE MENU STYLES --- */
        .mobile-menu-btn { 
            display: none; 
            font-size: 1.8rem; color: white; cursor: pointer; 
            padding: 5px;
        }

        .mobile-nav { 
            position: fixed; top: 75px; left: 0; width: 100%; 
            background: var(--bg-card); padding: 20px; 
            display: none; flex-direction: column; gap: 15px; 
            z-index: 999; border-bottom: 1px solid var(--border);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        .mobile-nav.open { display: flex !important; animation: slideDown 0.3s ease-out; }
        .m-link { 
            color: white; font-size: 1.1rem; border-bottom: 1px solid var(--border); 
            padding-bottom: 10px; cursor: pointer; 
        }
        .m-link:hover { color: var(--accent-green); }

        @keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* --- FOUNDER SECTION --- */
        .founder-section { 
            padding: 100px 5%; 
            background: linear-gradient(90deg, #001a00 0%, #050505 100%); 
            border-bottom: 1px solid var(--border);
        }
        .founder-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 60px; 
            max-width: 1200px; margin: 0 auto; align-items: center; 
        }
        .founder-text h1 { font-size: 3rem; font-weight: 900; line-height: 1.1; text-transform: uppercase; margin-bottom: 20px; }
        .founder-text p { color: var(--text-muted); font-size: 1.1rem; line-height: 1.6; margin-bottom: 30px; }
        .strong-white { color: white; font-weight: 700; }
        
        .btn-big-neon {
            background: var(--accent-green); color: black; padding: 18px 40px; font-size: 16px; font-weight: 800;
            border-radius: 8px; border: none; text-transform: uppercase;
            box-shadow: 0 5px 20px rgba(212, 246, 20, 0.2);
        }
        .btn-big-neon:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(212, 246, 20, 0.4); }

        .founder-img-wrapper img { width: 100%; border-radius: 20px; border: 2px solid #333; box-shadow: 20px 20px 0px rgba(255,255,255,0.05); }

        /* --- SERVICES --- */
        .section { padding: 80px 5%; }
        .section-header { text-align: center; margin-bottom: 50px; }
        .section-header h2 { font-size: 2.5rem; font-weight: 700; margin-bottom: 10px; color: white; }
        
        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; max-width: 1300px; margin: 0 auto; }
        .service-card { background: var(--bg-card); padding: 30px; border-radius: 16px; border: 1px solid var(--border); transition: 0.3s; }
        .service-card:hover { border-color: var(--accent-green); background: #1a1a1a; transform: translateY(-5px); }
        .s-icon { width: 50px; height: 50px; background: rgba(212, 246, 20, 0.1); color: var(--accent-green); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin-bottom: 20px; }
        .service-card h3 { font-size: 1.2rem; margin-bottom: 10px; color: white; font-weight: 700; }
        .service-card p { color: var(--text-muted); font-size: 0.95rem; line-height: 1.6; }

        /* --- CARDS & GRID --- */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1300px; margin: 0 auto; }
        .card { background: var(--bg-card); border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); transition: 0.3s; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-8px); border-color: var(--accent-green); }
        .card-img { height: 180px; width: 100%; object-fit: cover; opacity: 0.9; }
        .card-body { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .card-cat { color: var(--accent-green); font-size: 11px; font-weight: 800; text-transform: uppercase; margin-bottom: 8px; }
        .card h3 { font-size: 1.2rem; margin-bottom: 10px; font-weight: 600; color: white; }
        .card p { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 20px; flex-grow: 1; }
        .btn-card { width: 100%; padding: 10px; background: var(--accent-green); color: black; border: none; border-radius: 8px; font-weight: 700; margin-top: 10px; }

        /* --- REVIEWS CARD --- */
        .review-card {
            background: var(--bg-card); padding: 30px; border-radius: 16px; 
            border: 1px solid var(--border); position: relative;
        }
        .review-quote { color: var(--accent-green); font-size: 1.5rem; margin-bottom: 15px; }
        .stars { color: #FACC15; margin-bottom: 15px; font-size: 0.9rem; }
        .reviewer-info { display: flex; align-items: center; gap: 15px; margin-top: 20px; border-top: 1px solid #222; padding-top: 20px; }
        .reviewer-img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--accent-green); }

        /* --- ABOUT PAGE --- */
        .story-section { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; max-width: 1200px; margin: 0 auto; }
        .story-img img { border-radius: 20px; border: 1px solid var(--border); }
        .team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin-top: 40px; }
        .team-card { text-align: center; background: var(--bg-card); padding: 30px; border-radius: 16px; border: 1px solid var(--border); }
        .team-img { width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 20px; object-fit: cover; border: 3px solid var(--accent-green); }

        /* --- DASHBOARD --- */
        .dashboard-wrapper { display: flex; min-height: 100vh; }
        .dash-sidebar { width: var(--sidebar-width); background: var(--bg-card); border-right: 1px solid var(--border); padding: 20px; position: fixed; top: 73px; bottom: 0; left: 0; }
        .dash-menu-item { padding: 12px; border-radius: 8px; color: var(--text-muted); cursor: pointer; display: flex; gap: 10px; margin-bottom: 5px; }
        .dash-menu-item:hover, .dash-menu-item.active { background: rgba(212, 246, 20, 0.1); color: var(--accent-green); }
        .dash-content { margin-left: var(--sidebar-width); flex-grow: 1; padding: 30px; }
        .dash-welcome { background: linear-gradient(135deg, #1F2937, #000); padding: 30px; border-radius: 16px; margin-bottom: 30px; border: 1px solid var(--border); }
        .my-course-card { display: flex; gap: 20px; background: var(--bg-card); padding: 20px; border-radius: 12px; border: 1px solid var(--border); margin-bottom: 15px; align-items: center; }
        .mc-thumb { width: 100px; height: 70px; border-radius: 8px; object-fit: cover; }
        .progress-bar { height: 6px; background: #374151; border-radius: 10px; width: 100%; margin-top: 10px; }
        .progress-fill { height: 100%; background: var(--accent-green); width: 0%; }

        /* --- PLAYER & OTHER --- */
        .player-layout { display: grid; grid-template-columns: 2.5fr 1fr; gap: 30px; max-width: 1500px; margin: 0 auto; padding: 30px 5%; }
        .video-wrapper { background: black; border-radius: 12px; overflow: hidden; aspect-ratio: 16/9; border: 1px solid var(--border); }
        .video-wrapper iframe { width: 100%; height: 100%; border: none; }
        .curriculum-box { background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border); height: fit-content; overflow: hidden; }
        .lesson-item { padding: 15px; border-bottom: 1px solid var(--border); cursor: pointer; color: var(--text-muted); }
        .lesson-item:hover, .lesson-item.active-lesson { background: rgba(212, 246, 20, 0.1); color: white; border-left: 3px solid var(--accent-green); }

        footer { background: black; border-top: 1px solid var(--border); padding: 60px 5% 20px; margin-top: auto; }
        .footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 40px; margin-bottom: 40px; }
        .f-title { color: white; font-weight: 700; margin-bottom: 20px; display: block; }
        .f-link { display: block; margin-bottom: 10px; color: var(--text-muted); }
        
        .auth-wrapper { display: flex; justify-content: center; align-items: center; min-height: 80vh; }
        .auth-box { background: var(--bg-card); padding: 40px; border-radius: 20px; width: 100%; max-width: 400px; border: 1px solid var(--border); }
        .input-group input { width: 100%; padding: 12px; background: #000; border: 1px solid var(--border); border-radius: 8px; color: white; outline: none; margin-bottom: 15px; }
        #loading-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(3,7,18,0.95); z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .spinner { border: 4px solid var(--bg-hover); border-top: 4px solid var(--accent-green); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .user-avatar-small { width: 35px; height: 35px; background: var(--accent-green); color: black; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }

        /* --- POPUP STYLES --- */
        .webinar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); z-index: 2000;
            display: none; justify-content: center; align-items: center;
            backdrop-filter: blur(8px); animation: fadeIn 0.4s;
        }
        .webinar-modal {
            background: #111; border: 1px solid #333;
            width: 90%; max-width: 600px;
            border-radius: 20px; overflow: hidden;
            position: relative; box-shadow: 0 0 50px rgba(0,0,0,0.8);
            /* FIX FOR MOBILE SCROLLING */
            max-height: 90vh;
            overflow-y: auto;
        }
        .close-webinar {
            position: absolute; top: 15px; right: 20px;
            background: rgba(255,255,255,0.1); border: none; color: white;
            width: 30px; height: 30px; border-radius: 50%;
            cursor: pointer; z-index: 10; font-size: 14px;
        }
        .close-webinar:hover { background: red; }

        /* Step 1: Offer */
        .w-header { text-align: center; padding: 30px 20px 10px; }
        .w-badge { background: #b91c1c; color: white; padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 700; text-transform: uppercase; margin-right: 10px; }
        .w-seats { background: rgba(212, 246, 20, 0.2); color: var(--accent-green); padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 700; border: 1px solid var(--accent-green); }
        .w-title { font-size: 1.8rem; font-weight: 800; color: white; margin-top: 15px; line-height: 1.2; }
        .w-sub { color: #9ca3af; font-size: 0.95rem; margin-top: 10px; }
        .w-video-box { position: relative; margin: 20px; border-radius: 12px; overflow: hidden; border: 1px solid #333; height: 200px; }
        .w-play-btn { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 50px; height: 50px; background: rgba(255,255,255,0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-size: 1.2rem; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; padding: 0 20px; margin-bottom: 20px; }
        .stat-box { background: #1f2937; padding: 10px; border-radius: 10px; text-align: center; border: 1px solid #374151; }
        .stat-icon { color: var(--accent-green); font-size: 1.2rem; margin-bottom: 5px; }
        .stat-val { color: white; font-weight: 700; font-size: 0.9rem; display: block; }
        .stat-label { color: #9ca3af; font-size: 0.75rem; text-transform: uppercase; }
        .w-benefits { display: flex; justify-content: space-between; padding: 0 30px; margin-bottom: 25px; flex-wrap: wrap; gap: 10px; }
        .w-ben-item { color: white; font-size: 0.85rem; display: flex; align-items: center; gap: 6px; }
        .w-ben-item i { color: var(--accent-green); }
        .w-footer { padding: 20px; display: flex; gap: 10px; }
        .btn-neon-full { flex: 2; background: var(--accent-green); color: black; border: none; padding: 14px; border-radius: 12px; font-weight: 800; font-size: 1rem; }
        .btn-dark-full { flex: 1; background: #1f2937; color: white; border: 1px solid #374151; padding: 14px; border-radius: 12px; font-weight: 600; }
        
        /* Step 2: Form */
        .step-content { padding: 30px; }
        .form-label { display: block; color: white; font-size: 0.9rem; margin-bottom: 8px; font-weight: 500; }
        .form-input { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #000; color: white; outline: none; margin-bottom: 15px; font-size: 1rem; }
        .form-input:focus { border-color: var(--accent-green); }

        /* Step 3: Payment */
        .pay-box { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; color: black; }
        .pay-number { font-size: 1.8rem; font-weight: 800; margin: 10px 0; letter-spacing: 1px; color: #000; }
        .copy-btn { background: #eee; border: none; padding: 5px 15px; border-radius: 20px; cursor: pointer; font-size: 0.8rem; }
        .upload-area { border: 2px dashed #444; background: #000; border-radius: 12px; padding: 30px; text-align: center; margin-bottom: 20px; cursor: pointer; color: #666; position: relative; }
        .upload-area:hover { border-color: var(--accent-green); color: white; }
        .upload-area input[type=file] { position: absolute; width: 100%; height: 100%; top: 0; left: 0; opacity: 0; cursor: pointer; }

        /* Admin Table */
        .admin-table { width: 100%; border-collapse: collapse; margin-top: 20px; color: white; }
        .admin-table th { text-align: left; padding: 10px; border-bottom: 1px solid #333; color: var(--accent-green); }
        .admin-table td { padding: 10px; border-bottom: 1px solid #222; font-size: 0.9rem; }

        /* --- RESPONSIVE CSS --- */
        @media (max-width: 900px) {
            .hero-container, .founder-grid, .player-layout, .story-section { grid-template-columns: 1fr; text-align: center; flex-direction: column; }
            .dash-sidebar { display: none; }
            .dash-content { margin-left: 0; padding: 15px; }
            
            /* FORCE SHOW HAMBURGER ON MOBILE */
            .nav-actions, .search-bar { display: none !important; }
            .mobile-menu-btn { display: block !important; }
            
            .footer-grid { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
            
            /* POPUP FIXES FOR MOBILE */
            .w-benefits { flex-direction: column; align-items: center; }
            .w-footer { flex-direction: column; } /* Stack buttons vertically */
            .btn-neon-full, .btn-dark-full { width: 100%; flex: none; margin-bottom: 10px; } /* Full width buttons */
        }
    </style>
</head>
<body>

    <div id="loading-overlay" class="hidden"><div class="spinner"></div></div>

    <!-- NEW 3-STEP WEBINAR POPUP -->
    <div id="webinar-popup" class="webinar-overlay">
        <div class="webinar-modal">
            <button class="close-webinar" onclick="closeWebinar()"><i class="fa-solid fa-xmark"></i></button>

            <!-- STEP 1: PROMO -->
            <div id="step-1">
                <div class="w-header">
                    <div><span class="w-badge">‚óè LIVE SESSION</span> <span class="w-seats">‚ú® Only 10 seats left!</span></div>
                    <div class="w-title">Join Our <span style="color:var(--accent-green)">2-Hour Live AI Workshop</span></div>
                    <div class="w-sub">Master AI Fundamentals, AI Agents, Vibe Coding & Content Creation in just 2 hours!</div>
                </div>

                <div class="w-video-box">
                    <img src="https://images.unsplash.com/photo-1531482615713-2afd69097998?w=600" style="width:100%; height:100%; object-fit:cover; opacity:0.6;">
                    <div class="w-play-btn"><i class="fa-solid fa-play"></i></div>
                    <div style="position:absolute; bottom:10px; left:15px; font-weight:700; color:white;">AI Workshop Preview</div>
                </div>

                <div class="stats-grid">
                    <div class="stat-box"><i class="fa-regular fa-calendar stat-icon"></i><span class="stat-val">February 1, 2026</span><span class="stat-label">DATE</span></div>
                    <div class="stat-box"><i class="fa-regular fa-clock stat-icon"></i><span class="stat-val">4:00 PM PKT</span><span class="stat-label">TIME</span></div>
                    <div class="stat-box"><i class="fa-solid fa-user-group stat-icon"></i><span class="stat-val">1,33+</span><span class="stat-label">ENROLLED</span></div>
                </div>

                <div class="w-benefits">
                    <div class="w-ben-item"><i class="fa-solid fa-bolt"></i> AI Fundamentals</div>
                    <div class="w-ben-item"><i class="fa-solid fa-bolt"></i> AI Agents</div>
                    <div class="w-ben-item"><i class="fa-solid fa-bolt"></i> Content Creation</div>
                    <div class="w-ben-item"><i class="fa-solid fa-bolt"></i> Vibe Coding</div>
                </div>

                <div class="w-footer">
                    <button class="btn-neon-full" onclick="showStep(2)">Reserve My Seat Now <i class="fa-solid fa-arrow-right"></i></button>
                    <button class="btn-dark-full" onclick="closeWebinar()">Maybe Later</button>
                </div>
                <div style="text-align:center; padding-bottom:15px; font-size:0.8rem; color:#666;">Starting at just <span style="color:var(--accent-green); font-weight:bold;">PKR 199</span> ‚Ä¢ Limited Time Offer</div>
            </div>

            <!-- STEP 2: FORM -->
            <div id="step-2" class="hidden step-content">
                <h2 style="color:white; margin-bottom:20px; text-align:center;">Your Details</h2>
                
                <label class="form-label">Full Name *</label>
                <input type="text" id="reg-name" class="form-input" placeholder="Enter your name">

                <label class="form-label">Email Address *</label>
                <input type="email" id="reg-email" class="form-input" placeholder="name@example.com">

                <label class="form-label">Mobile Number (WhatsApp) *</label>
                <div style="display:flex; gap:10px;">
                    <span style="background:#222; color:white; padding:12px; border-radius:8px; border:1px solid #333;">üáµüá∞ +92</span>
                    <input type="tel" id="reg-phone" class="form-input" placeholder="300 1234567">
                </div>

                <label class="form-label">City *</label>
                <input type="text" id="reg-city" class="form-input" placeholder="e.g. Lahore">

                <label class="form-label">Age *</label>
                <input type="number" id="reg-age" class="form-input" placeholder="e.g. 22">

                <button class="btn-neon-full" style="width:100%; margin-top:10px;" onclick="validateAndNext()">Next</button>
                <div style="text-align:center; margin-top:15px; cursor:pointer; color:gray;" onclick="showStep(1)">Back</div>
            </div>

            <!-- STEP 3: PAYMENT & UPLOAD -->
            <div id="step-3" class="hidden step-content">
                <h2 style="color:white; margin-bottom:10px; text-align:center;">Payment Method</h2>
                <p style="color:#aaa; text-align:center; margin-bottom:20px; font-size:0.9rem;">Transfer registration fee to verify your seat.</p>

                <div style="background:black; border:1px solid var(--accent-green); border-radius:50px; padding:10px 20px; color:white; width:fit-content; margin:0 auto 20px; display:flex; gap:10px; align-items:center;">
                    <i class="fa-solid fa-mobile-screen"></i> EasyPaisa / JazzCash
                </div>

                <div class="pay-box">
                    <div style="color:#555; font-size:0.9rem;">Transfer to EasyPaisa / JazzCash</div>
                    <div style="color:#000; font-weight:600; margin-top:5px;">Arez Khan</div>
                    <div class="pay-number">0303 9617995</div>
                    <button class="copy-btn" onclick="copyNum()">Copy</button>
                </div>

                <!-- FILE UPLOAD -->
                <div class="upload-area">
                    <input type="file" id="payment-screenshot" accept="image/*" onchange="handleFileSelect(event)">
                    <i class="fa-solid fa-cloud-arrow-up" style="font-size:2rem; margin-bottom:10px;"></i>
                    <div id="upload-text">UPLOAD PAYMENT SCREENSHOT (REQUIRED)</div>
                    <div style="font-size:0.8rem; margin-top:5px; color:#444;" id="file-name">Tap to select image</div>
                </div>

                <button class="btn-neon-full" style="width:100%; background: #0f172a; color: white; border: 1px solid white;" onclick="finalizeRegistration()">Pay PKR 199 & Register</button>
                <div style="text-align:center; margin-top:10px; color:gray; font-size:0.8rem;">Powered By <span style="font-weight:bold; color:white;">Zero Square</span></div>
            </div>

        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="logo" onclick="navigateTo('home')">
            <img src="logo.png" alt="Logo">
        </div>

        <div class="search-bar">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" placeholder="Search courses...">
        </div>

        <div class="nav-actions">
            <span class="nav-link active-link" onclick="navigateTo('home')" id="link-home">Home</span>
            <span class="nav-link" onclick="navigateTo('courses')" id="link-courses">Courses</span>
            <span class="nav-link" onclick="navigateTo('services')" id="link-services">Services</span>
            <span class="nav-link" onclick="navigateTo('about')" id="link-about">About</span>
            <span class="nav-link hidden" id="link-admin" onclick="navigateTo('admin')" style="color: #D4F614; font-weight: 800;">Admin</span>

            <div id="auth-buttons" style="display: flex; gap: 15px; align-items: center;">
                <span class="nav-link" onclick="navigateTo('auth')" style="cursor: pointer;">Log in</span>
                <button class="btn-main" onclick="navigateTo('auth')">Join Free</button>
            </div>

            <div id="user-profile" class="hidden" onclick="navigateTo('dashboard')" style="cursor: pointer;">
                <div class="user-avatar-small" id="header-avatar">U</div>
            </div>
        </div>

        <!-- Hamburger Icon -->
        <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <i class="fa-solid fa-bars"></i>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-nav">
        <span class="m-link" onclick="mobileNav('home')">Home</span>
        <span class="m-link" onclick="mobileNav('courses')">Courses</span>
        <span class="m-link" onclick="mobileNav('services')">Services</span>
        <span class="m-link" onclick="mobileNav('about')">About</span>
        <span class="m-link" onclick="mobileNav('auth')">Login / Join</span>
        <span class="m-link hidden" id="m-dash" onclick="mobileNav('dashboard')">Dashboard</span>
    </div>

    <!-- 1. HOME PAGE -->
    <div id="home-page" class="page-section active">
        <!-- HERO -->
        <section style="background-color: #050505; padding: 100px 5%; text-align: center; display: flex; justify-content: center; align-items: center; font-family: 'Inter', sans-serif;">
            <div style="width: 100%; max-width: 800px;">
                <h1 style="font-size: 3.5rem; font-weight: 900; color: white; line-height: 1.2; margin-bottom: 20px;">
                    Master The <span style="color: #D4F614;">Future Skills.</span><br>Coding, AI & Design.
                </h1>
                <p style="color: #9CA3AF; font-size: 1.1rem; max-width: 600px; margin: 0 auto 40px; line-height: 1.6;">
                    Don't just watch tutorials. Build real projects and launch your career with Zero Square.
                </p>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                    <button onclick="navigateTo('courses')" style="background-color: #D4F614; color: black; padding: 14px 32px; font-size: 16px; font-weight: 700; border: none; border-radius: 8px; cursor: pointer; transition: 0.3s;">Start Learning</button>
                    <button onclick="navigateTo('services')" style="background-color: transparent; color: white; border: 1px solid #333; padding: 14px 32px; font-size: 16px; font-weight: 600; border-radius: 8px; cursor: pointer; transition: 0.3s;">View Services</button>
                </div>
            </div>
        </section>

        <!-- STATS -->
        <div style="background-color: #000000; border-top: 1px solid #222; border-bottom: 1px solid #222; padding: 50px 5%; display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: 30px; font-family: 'Inter', sans-serif;">
            <div style="text-align: center;"><h3 style="font-size: 2.5rem; font-weight: 800; color: white; margin: 0 0 5px 0;">50K+</h3><p style="color: #9CA3AF; font-size: 0.85rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 600; margin: 0;">Active Students</p></div>
            <div style="text-align: center;"><h3 style="font-size: 2.5rem; font-weight: 800; color: white; margin: 0 0 5px 0;">1,200+</h3><p style="color: #9CA3AF; font-size: 0.85rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 600; margin: 0;">Premium Courses</p></div>
            <div style="text-align: center;"><h3 style="font-size: 2.5rem; font-weight: 800; color: white; margin: 0 0 5px 0;">500+</h3><p style="color: #9CA3AF; font-size: 0.85rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 600; margin: 0;">Expert Instructors</p></div>
            <div style="text-align: center;"><h3 style="font-size: 2.5rem; font-weight: 800; color: white; margin: 0 0 5px 0;">4.9/5</h3><p style="color: #9CA3AF; font-size: 0.85rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 600; margin: 0;">User Rating</p></div>
        </div>

        <!-- POPULAR COURSES -->
        <section class="section">
            <div class="section-header"><h2>Popular Courses</h2><span class="view-all" onclick="navigateTo('courses')">View All <i class="fa-solid fa-arrow-right"></i></span></div>
            <div class="grid-container" id="home-courses-grid"></div>
        </section>

        <!-- REVIEWS (IMPROVED - LESS BORING) -->
        <section class="section" style="background: #0f172a;">
            <div class="section-header"><h2>Student Success Stories</h2></div>
            <div class="grid-container">
                <div class="review-card">
                    <div class="review-quote"><i class="fa-solid fa-quote-left"></i></div>
                    <div class="stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                    <p style="color:var(--text-muted); line-height:1.6;">"I went from zero knowledge to a full-time freelancer in just 3 months. The project-based learning is a game changer!"</p>
                    <div class="reviewer-info">
                        <img src="https://randomuser.me/api/portraits/women/44.jpg" class="reviewer-img">
                        <div><h4 style="color:white; font-size:0.95rem;">Sarah Jenkins</h4><small style="color:var(--accent-green);">Freelance Developer</small></div>
                    </div>
                </div>
                <div class="review-card">
                    <div class="review-quote"><i class="fa-solid fa-quote-left"></i></div>
                    <div class="stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div>
                    <p style="color:var(--text-muted); line-height:1.6;">"The AI workshop opened my eyes to the future. Arez explains complex concepts so simply. Highly recommended!"</p>
                    <div class="reviewer-info">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" class="reviewer-img">
                        <div><h4 style="color:white; font-size:0.95rem;">David Smith</h4><small style="color:var(--accent-green);">AI Enthusiast</small></div>
                    </div>
                </div>
                <div class="review-card">
                    <div class="review-quote"><i class="fa-solid fa-quote-left"></i></div>
                    <div class="stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                    <p style="color:var(--text-muted); line-height:1.6;">"Best investment I've made for my career. The support from the team is incredible, they actually care about your success."</p>
                    <div class="reviewer-info">
                        <img src="https://randomuser.me/api/portraits/women/65.jpg" class="reviewer-img">
                        <div><h4 style="color:white; font-size:0.95rem;">Emily R.</h4><small style="color:var(--accent-green);">Graphic Designer</small></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOUNDER SECTION -->
        <section class="founder-section">
            <div class="founder-grid">
                <div class="founder-text">
                    <h1>HELLO I'M <span class="highlight-text">AREZ KHAN</span>. <br> I'VE BUILT <span class="highlight-text">ZERO SQUARE</span> FOR YOU.</h1>
                    <p>Over the past 5 years, I‚Äôve worked with multiple tech companies to build <strong class="strong-white">AI solutions</strong> and MVPs. I'm not just teaching outdated theory. I'm actively in the AI and startup game right now, learning what works.</p>
                    <p>What makes me different is simple: <br> <strong class="strong-white">I teach practical skills that get you hired.</strong></p>
                    <button class="btn-big-neon" onclick="navigateTo('courses')">JOIN NOW AT DISCOUNT PRICE</button>
                </div>
                <div class="founder-img-wrapper"><img src="Arez.png" alt="Arez Khan" class="founder-img"></div>
            </div>
        </section>
    </div>

    <!-- 2. COURSES PAGE -->
    <div id="courses-page" class="page-section">
        <section class="section">
            <div class="section-header"><h2>All Courses</h2></div>
            <div class="grid-container" id="all-courses-grid"></div>
        </section>
    </div>

    <!-- 3. SERVICES PAGE -->
    <div id="services-page" class="page-section">
        <section class="section">
            <div class="section-header center"><h2>Our Premium Services</h2></div>
            <div class="services-grid">
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-code"></i></div><h3>Web Development</h3><p>Full-stack custom websites built with React & Node.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-pen-nib"></i></div><h3>Graphic Design</h3><p>Creative branding, logos and visual assets.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-laptop-code"></i></div><h3>Frontend Dev</h3><p>Interactive pixel-perfect user interfaces.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-robot"></i></div><h3>AI & ML</h3><p>Custom AI solutions & automation tools.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-magnifying-glass-chart"></i></div><h3>SEO Optimization</h3><p>Boost your website ranking on Google.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-bullhorn"></i></div><h3>Digital Marketing</h3><p>Social media & PPC campaigns.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-layer-group"></i></div><h3>UI/UX Design</h3><p>User-centric wireframes and prototypes.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-mobile-screen"></i></div><h3>App Dev</h3><p>iOS & Android apps with Flutter.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-database"></i></div><h3>Data Analysis</h3><p>Turn data into actionable insights.</p></div>
                <div class="service-card"><div class="s-icon"><i class="fa-solid fa-shield-halved"></i></div><h3>Cyber Security</h3><p>Protect your digital assets.</p></div>
            </div>
        </section>
    </div>

    <!-- 4. ABOUT PAGE -->
    <div id="about-page" class="page-section">
        <section class="story-section section">
            <div class="story-img"><img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800"></div>
            <div class="story-content">
                <span style="color:var(--accent-green); font-weight:700;">WHO WE ARE</span>
                <h2>We Are Zero Square</h2>
                <p>Founded in 2024, Zero Square is an online learning platform dedicated to providing high-quality education to everyone, everywhere.</p>
            </div>
        </section>

        <!-- FUTURE VISION SECTION -->
        <section style="position: relative; background-color: #000000; padding: 100px 5%; display: flex; align-items: center; overflow: hidden; background-image: radial-gradient(circle at 0% 100%, rgba(34, 197, 94, 0.4) 0%, rgba(0, 0, 0, 1) 50%); font-family: 'Inter', sans-serif;">
            <div style="max-width: 1000px; margin: 0 auto; width: 100%;">
                <h2 style="font-size: 4rem; font-weight: 500; color: #FFFFFF; line-height: 1.1; margin-top: 0; margin-bottom: 25px; letter-spacing: -1px;">We believe the future <br> shouldn't require a visa.</h2>
                <p style="font-size: 1.2rem; color: #D1D5DB; max-width: 700px; line-height: 1.6; margin-bottom: 60px;">For too long, the brightest minds in Asia had one path to the future: Silicon Valley (America). We're building a different path.</p>
                <div style="display: flex; align-items: center; gap: 40px; flex-wrap: wrap;">
                    <span style="font-size: 5rem; font-weight: 600; color: #FFFFFF; letter-spacing: -2px; line-height: 1;">1,033 +</span>
                    <span style="font-size: 1.1rem; color: #E5E7EB; line-height: 1.4; max-width: 300px;">We're building Asia's AI <br> startup ecosystem.</span>
                </div>
            </div>
        </section>

        <!-- FOUNDER SECTION 2 -->
        <section style="background-color: #000000; padding: 80px 5%; text-align: center; position: relative; overflow: hidden; font-family: 'Inter', sans-serif;">
            <div style="position: absolute; bottom: 0; left: -100px; width: 500px; height: 500px; background: radial-gradient(circle, rgba(34, 197, 94, 0.4) 0%, rgba(0,0,0,0) 70%); pointer-events: none;"></div>
            <h2 style="font-size: 3.5rem; font-weight: 400; color: #FFFFFF; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 40px; position: relative; z-index: 2;">OUR FOUNDER</h2>
            <div style="max-width: 900px; margin: 0 auto; border-radius: 20px; overflow: hidden; position: relative; z-index: 2;">
                <img src="Arez.png" alt="Founder" style="width: 100%; display: block; object-fit: cover;">
                <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 50%; background: linear-gradient(to top, rgba(212, 246, 20, 0.5) 0%, rgba(212, 246, 20, 0) 100%);"></div>
            </div>
        </section>

        <!-- TEAM SECTION (ADDED MORE MEMBERS) -->
        <section class="section" style="background: var(--bg-card);">
            <div class="section-header center"><h2>Meet Our Team</h2></div>
            <div class="grid-container">
                <div class="team-card"><img src="Arez.png" class="team-img"><div class="team-name">Arez Khan</div><div class="team-role">Founder & CEO</div></div>
                <div class="team-card"><img src="usman.jpeg" class="team-img"><div class="team-name">Usman Ali</div><div class="team-role">Head of Education</div></div>
                <div class="team-card"><img src="https://randomuser.me/api/portraits/women/68.jpg" class="team-img"><div class="team-name">Sarah Ahmed</div><div class="team-role">Lead AI Engineer</div></div>
                <div class="team-card"><img src="https://randomuser.me/api/portraits/women/23.jpg" class="team-img"><div class="team-name">Zainab Bibi</div><div class="team-role">Creative Director</div></div>
            </div>
        </section>
    </div>

    <!-- 5. AUTH PAGE -->
    <div id="auth-page" class="page-section">
        <div class="auth-wrapper"><div class="auth-box">
            <h2 style="margin-bottom: 20px;">Welcome</h2>
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <button class="btn-main" onclick="toggleAuth('login')" style="flex:1;">Log In</button>
                <button class="btn-main" onclick="toggleAuth('signup')" style="flex:1; background:var(--bg-body);">Sign Up</button>
            </div>
            <form id="login-form"><div class="input-group"><label>Email</label><input type="email" id="l-email"></div><div class="input-group"><label>Password</label><input type="password" id="l-pass"></div><button type="submit" class="btn-main">Log In</button></form>
            <form id="signup-form" class="hidden"><div class="input-group"><label>Name</label><input type="text" id="s-name"></div><div class="input-group"><label>Email</label><input type="email" id="s-email"></div><div class="input-group"><label>Password</label><input type="password" id="s-pass"></div><button type="submit" class="btn-main">Sign Up</button></form>
        </div></div>
    </div>

    <!-- 6. DASHBOARD -->
    <div id="dashboard-page" class="page-section">
        <div class="dashboard-wrapper">
            <div class="dash-sidebar">
                <div class="dash-menu-item active"><i class="fa-solid fa-book"></i> My Learning</div>
                <div class="dash-menu-item" onclick="logout()" style="color:#ef4444; margin-top:auto;"><i class="fa-solid fa-right-from-bracket"></i> Logout</div>
            </div>
            <div class="dash-content">
                <div class="dash-welcome"><div class="dash-welcome-inner"><h2 id="dash-username">Welcome!</h2><p>Ready to learn?</p></div></div>
                <h3>Enrolled Courses</h3>
                <div id="my-courses-list" style="margin-top: 20px;"></div>
            </div>
        </div>
    </div>

    <!-- 7. PLAYER PAGE -->
    <div id="player-page" class="page-section">
        <div class="player-layout">
            <div>
                <a onclick="navigateTo('dashboard')" style="color:var(--text-muted); cursor:pointer; display:block; margin-bottom:15px;"><i class="fa-solid fa-arrow-left"></i> Back to Dashboard</a>
                <div class="video-wrapper"><iframe id="main-player" src="" allowfullscreen></iframe></div>
                <h2 id="player-title" style="margin-top:20px;">Course Title</h2>
            </div>
            <div class="curriculum-box">
                <div class="curr-header">Course Content</div>
                <div class="lesson-item active-lesson">1. Introduction</div>
                <div class="lesson-item">2. Getting Started</div>
            </div>
        </div>
    </div>

    <!-- 8. ADMIN PAGE -->
    <div id="admin-page" class="page-section">
        <div class="section admin-container">
            <h2>Admin Dashboard</h2>
            
            <!-- Webinar Registrations -->
            <div style="background:var(--bg-card); padding:20px; border-radius:12px; border:1px solid var(--border); margin-bottom:40px;">
                <h3 style="margin-bottom:15px; color:var(--accent-green);">Webinar Registrations</h3>
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>City</th>
                                <th>Age</th>
                                <th>Screenshot</th>
                            </tr>
                        </thead>
                        <tbody id="admin-reg-list">
                            <!-- Registration Rows will load here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="admin-form">
                <h3>Add New Course</h3>
                <form id="upload-course-form">
                    <div class="input-group"><label>Title</label><input type="text" id="c-title" required></div>
                    <div class="input-group"><label>Category</label><input type="text" id="c-cat" required></div>
                    <div class="input-group"><label>Image URL</label><input type="text" id="c-img" required></div>
                    <div class="input-group"><label>YouTube ID</label><input type="text" id="c-vid" placeholder="e.g. zJSY8tbf_ys" required></div>
                    <div class="input-group"><label>Price</label><input type="text" id="c-price" value="$12.99"></div>
                    <button type="submit" class="btn-main" style="width:auto;">Upload Course</button>
                </form>
            </div>
            <h3>Manage Courses</h3>
            <table class="admin-table"><tbody id="admin-course-list"></tbody></table>
        </div>
    </div>

    <footer>
        <div class="footer-grid">
            <div class="footer-brand"><span>Zero Square</span><p>The leading e-learning platform.</p></div>
            <div class="f-col"><span class="f-title">Company</span><span class="f-link" onclick="navigateTo('about')" style="cursor:pointer">About Us</span></div>
        </div>
        <div style="text-align: center; border-top: 1px solid var(--border); padding-top: 20px; margin-top: 40px; color: var(--text-muted);"><p>&copy; 2024 Zero Square.</p></div>
    </footer>

    <!-- FIREBASE SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyACTKh1FPEeubC6HLRTshs2KxgRiLnTbHM",
            authDomain: "zero-square.firebaseapp.com",
            databaseURL: "https://zero-square-default-rtdb.firebaseio.com",
            projectId: "zero-square",
            storageBucket: "zero-square.firebasestorage.app",
            messagingSenderId: "564427825486",
            appId: "1:564427825486:web:9e9736e88d49a90eefbe1f",
            measurementId: "G-8DBHBSTQK1"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.database();
        const ADMIN_EMAIL = "admin@zerosquare.com";

        // Navigation
        function navigateTo(pageId) {
            document.querySelectorAll('.page-section').forEach(sec => sec.classList.remove('active'));
            document.getElementById(pageId + '-page').classList.add('active');
            window.scrollTo(0,0);
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active-link'));
            const link = document.getElementById('link-' + pageId);
            if(link) link.classList.add('active-link');
        }

        // Mobile Nav
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('open'); }
        function mobileNav(pageId) { document.getElementById('mobile-menu').classList.remove('open'); navigateTo(pageId); }
        
        // Auth
        function toggleAuth(type) {
            if(type === 'login') { document.getElementById('login-form').classList.remove('hidden'); document.getElementById('signup-form').classList.add('hidden'); }
            else { document.getElementById('login-form').classList.add('hidden'); document.getElementById('signup-form').classList.remove('hidden'); }
        }

        document.getElementById('signup-form').addEventListener('submit', (e) => {
            e.preventDefault();
            auth.createUserWithEmailAndPassword(document.getElementById('s-email').value, document.getElementById('s-pass').value)
            .then((cred) => {
                db.ref('users/' + cred.user.uid).set({ name: document.getElementById('s-name').value });
                alert("Account Created!"); navigateTo('dashboard');
            }).catch(e => alert(e.message));
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            auth.signInWithEmailAndPassword(document.getElementById('l-email').value, document.getElementById('l-pass').value)
            .then(() => navigateTo('dashboard')).catch(e => alert("Invalid Login"));
        });

        function logout() { auth.signOut().then(() => window.location.reload()); }

        // Data & Admin
        const defaultCourses = []; 
        let globalCourses = {};

        auth.onAuthStateChanged(user => {
            if(user) {
                document.getElementById('auth-buttons').classList.add('hidden');
                document.getElementById('user-profile').classList.remove('hidden');
                document.getElementById('m-dash').classList.remove('hidden');
                db.ref('users/' + user.uid).once('value').then(s => {
                    if(s.val()) document.getElementById('dash-username').innerText = "Hello, " + s.val().name;
                });
                if(user.email === ADMIN_EMAIL) {
                    document.getElementById('link-admin').classList.remove('hidden');
                    loadAdminRegistrations();
                }
                loadEnrolled(user.uid);
            } else {
                document.getElementById('auth-buttons').classList.remove('hidden');
                document.getElementById('user-profile').classList.add('hidden');
                document.getElementById('m-dash').classList.add('hidden');
            }
        });

        db.ref('courses').on('value', snapshot => {
            const dbCourses = snapshot.val();
            globalCourses = dbCourses || {};
            let allCourses = [...defaultCourses];
            const adminList = document.getElementById('admin-course-list');
            if(adminList) adminList.innerHTML = "";

            if(dbCourses) {
                Object.keys(dbCourses).forEach(key => {
                    const c = dbCourses[key];
                    allCourses.push({...c, id: key});
                    if(adminList) adminList.innerHTML += `<tr><td><img src="${c.image}" style="width:40px; border-radius:4px;"></td><td>${c.title}</td><td><button style="color:red; background:none; border:none;" onclick="deleteCourse('${key}')">Delete</button></td></tr>`;
                });
            }
            renderCourses(allCourses);
            if(auth.currentUser) loadEnrolled(auth.currentUser.uid);
        });

        function renderCourses(courses) {
            const homeGrid = document.getElementById('home-courses-grid');
            const allGrid = document.getElementById('all-courses-grid');
            let html = "";
            courses.forEach(c => {
                html += `<div class="card"><div style="position:relative; height:180px;"><img src="${c.image}" class="card-img"></div><div class="card-body"><span class="card-cat">${c.category}</span><h3>${c.title}</h3><div class="card-footer"><span class="price">${c.price}</span></div><button class="btn-card" onclick="enroll('${c.title}', '${c.video}', '${c.image}', '${c.id}')">Enroll Now</button></div></div>`;
            });
            if(homeGrid) homeGrid.innerHTML = html;
            if(allGrid) allGrid.innerHTML = html;
        }

        document.getElementById('upload-course-form').addEventListener('submit', (e) => {
            e.preventDefault();
            db.ref('courses').push({
                title: document.getElementById('c-title').value,
                category: document.getElementById('c-cat').value,
                image: document.getElementById('c-img').value,
                video: document.getElementById('c-vid').value,
                price: document.getElementById('c-price').value
            });
            alert("Uploaded!"); document.getElementById('upload-course-form').reset();
        });

        function deleteCourse(id) { if(confirm("Delete?")) db.ref('courses/'+id).remove(); }

        function enroll(title, vid, img, id) {
            const user = auth.currentUser;
            if(!user) return alert("Please Login");
            db.ref('users/' + user.uid + '/enrolled').push({
                title: title, video: vid, image: img, courseId: id, date: new Date().toDateString()
            });
            alert("Enrolled!");
        }

        function loadEnrolled(uid) {
            db.ref('users/' + uid + '/enrolled').on('value', snap => {
                const list = document.getElementById('my-courses-list');
                list.innerHTML = "";
                if(snap.val()) {
                    Object.values(snap.val()).forEach(c => {
                        let shouldShow = false;
                        if(c.courseId) { if(globalCourses[c.courseId]) shouldShow = true; } 
                        else { const activeTitles = Object.values(globalCourses).map(x => x.title); if(activeTitles.includes(c.title)) shouldShow = true; }
                        if(shouldShow) {
                            list.innerHTML += `<div class="my-course-card"><img src="${c.image}" class="mc-thumb"><div class="mc-info"><h4>${c.title}</h4><div class="progress-bar"><div class="progress-fill" style="width: 40%"></div></div><small>Enrolled: ${c.date}</small></div><button class="btn-main" style="width:auto; padding:8px 20px;" onclick="openPlayer('${c.title}', '${c.video}')">Continue</button></div>`;
                        }
                    });
                    if(list.innerHTML === "") list.innerHTML = "<p style='color:gray'>No active courses enrolled.</p>";
                } else list.innerHTML = "<p style='color:gray'>No courses enrolled.</p>";
            });
        }

        function openPlayer(title, vid) {
            document.getElementById('player-title').innerText = title;
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = vid.match(regExp);
            const cleanId = (match && match[2].length == 11) ? match[2] : vid;
            document.getElementById('main-player').src = "https://www.youtube.com/embed/" + cleanId;
            navigateTo('player');
        }

        // --- POPUP & REGISTRATION LOGIC ---
        window.addEventListener('load', () => { setTimeout(() => { document.getElementById('webinar-popup').style.display = 'flex'; }, 500); });
        function closeWebinar() { document.getElementById('webinar-popup').style.display = 'none'; }
        function showStep(step) {
            document.getElementById('step-1').classList.add('hidden');
            document.getElementById('step-2').classList.add('hidden');
            document.getElementById('step-3').classList.add('hidden');
            document.getElementById('step-' + step).classList.remove('hidden');
        }
        function validateAndNext() {
            const name = document.getElementById('reg-name').value;
            const phone = document.getElementById('reg-phone').value;
            if(!name || !phone) alert("Please fill Name and Phone");
            else showStep(3);
        }
        function copyNum() {
            navigator.clipboard.writeText("03039617995");
            alert("Number Copied: 03039617995");
        }

        // FILE HANDLING & SAVING TO DB
        let selectedFileBase64 = "";

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if(file) {
                document.getElementById('file-name').innerText = file.name;
                document.getElementById('upload-text').style.color = "#D4F614";
                const reader = new FileReader();
                reader.onload = function(e) {
                    selectedFileBase64 = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function finalizeRegistration() {
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const phone = document.getElementById('reg-phone').value;
            const city = document.getElementById('reg-city').value;
            const age = document.getElementById('reg-age').value;

            if(!selectedFileBase64) return alert("Please upload payment screenshot!");

            const regData = {
                name: name,
                email: email,
                phone: phone,
                city: city,
                age: age,
                screenshot: selectedFileBase64,
                timestamp: new Date().toString()
            };

            // Save to Firebase
            db.ref('webinar_registrations').push(regData).then(() => {
                alert("Registration Successful! We will verify your payment and contact you.");
                
                // Optional: Still open WhatsApp as backup
                const msg = `Hello! I have paid PKR 199 for the AI Workshop.%0A%0AName: ${name}%0APhone: ${phone}%0A%0APayment Screenshot Uploaded to Dashboard.`;
                window.open(`https://wa.me/923039617995?text=${msg}`, '_blank');
                
                closeWebinar();
            }).catch(e => alert("Error: " + e.message));
        }

        // ADMIN PANEL: Load Registrations
        function loadAdminRegistrations() {
            db.ref('webinar_registrations').on('value', snap => {
                const list = document.getElementById('admin-reg-list');
                list.innerHTML = "";
                const data = snap.val();
                if(data) {
                    Object.values(data).reverse().forEach(reg => {
                        list.innerHTML += `
                            <tr>
                                <td>${reg.name}</td>
                                <td>${reg.phone}</td>
                                <td>${reg.city}</td>
                                <td>${reg.age}</td>
                                <td><img src="${reg.screenshot}" style="width:50px; cursor:pointer; border:1px solid #333;" onclick="window.open(this.src)"></td>
                            </tr>
                        `;
                    });
                } else {
                    list.innerHTML = "<tr><td colspan='5'>No registrations yet.</td></tr>";
                }
            });
        }

        navigateTo('home');
    </script>
</body>
</html>
